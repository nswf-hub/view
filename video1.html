<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Video Player</title>
<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Segoe UI', system-ui, sans-serif;
}

body {
    background: #0a0e17;
    color: #fff;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
}

.container {
    max-width: 900px;
    width: 100%;
    text-align: center;
}

/* Simple Timer - ORANGE COLOR */
.timer-container {
    margin-bottom: 40px;
}

.timer-simple {
    font-size: 4rem;
    font-weight: 700;
    color: #ff6b00;
    margin-bottom: 15px;
    line-height: 1;
    min-height: 70px;
    display: flex;
    justify-content: center;
    align-items: center;
}

.timer-label {
    color: #94a3b8;
    font-size: 1rem;
    letter-spacing: 1px;
}

/* Watch Button - Orange color to match */
.watch-btn {
    padding: 18px 50px;
    font-size: 1.2rem;
    font-weight: 600;
    background: #ff6b00;
    color: white;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 10px 30px rgba(255, 107, 0, 0.3);
    display: none;
    margin: 0 auto;
}

.watch-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 15px 40px rgba(255, 107, 0, 0.4);
    background: #e55a00;
}

.watch-btn i {
    margin-right: 10px;
}

/* Video Container */
.video-wrapper {
    display: none;
    margin: 30px auto;
    max-width: 900px;
    width: 100%;
}

.video-container {
    width: 100%;
    background: #000;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.7);
    border: 1px solid rgba(255, 255, 255, 0.1);
    aspect-ratio: 16/9;
    position: relative;
    margin-bottom: 30px;
}

video {
    width: 100%;
    height: 100%;
    display: block;
    background: #000;
    border-radius: 12px;
}

/* Preview Timer Display - Outside video player */
.preview-timer-container {
    margin: 20px auto 30px;
    text-align: center;
}

.preview-timer-text {
    font-size: 1.2rem;
    color: #94a3b8;
    margin-bottom: 10px;
}

.preview-timer-display {
    font-size: 3.5rem;
    font-weight: 700;
    color: #ff6b00;
    min-height: 60px;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* Watch Full Video Button - Below the player */
.watch-full-btn {
    padding: 18px 50px;
    font-size: 1.2rem;
    font-weight: 600;
    background: #ff6b00;
    color: white;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 10px 30px rgba(255, 107, 0, 0.3);
    display: none;
    margin: 0 auto;
    width: 100%;
    max-width: 300px;
}

.watch-full-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 15px 40px rgba(255, 107, 0, 0.4);
    background: #e55a00;
}

.watch-full-btn i {
    margin-right: 10px;
}

/* Preview info */
.preview-info {
    color: #94a3b8;
    font-size: 0.95rem;
    margin-top: 15px;
    display: none;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
    line-height: 1.5;
}

/* Style video controls for WebKit browsers (Chrome, Safari, Edge) */
video::-webkit-media-controls-panel {
    background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
}

/* REDUCED PLAY BUTTON SIZE */
video::-webkit-media-controls-play-button {
    background-color: #ff6b00;
    border-radius: 50%;
    transform: scale(0.7);
}

video::-webkit-media-controls-current-time-display,
video::-webkit-media-controls-time-remaining-display {
    color: #fff;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
}

/* Hide time display only during preview */
.video-preview-mode::-webkit-media-controls-current-time-display,
.video-preview-mode::-webkit-media-controls-time-remaining-display,
.video-preview-mode::-webkit-media-controls-timeline {
    display: none !important;
}

/* Show time display during full video */
.video-full-mode::-webkit-media-controls-current-time-display,
.video-full-mode::-webkit-media-controls-time-remaining-display,
.video-full-mode::-webkit-media-controls-timeline {
    display: flex !important;
}

video::-webkit-media-controls-volume-slider,
video::-webkit-media-controls-seek-back-button,
video::-webkit-media-controls-seek-forward-button,
video::-webkit-media-controls-fullscreen-button,
video::-webkit-media-controls-mute-button {
    filter: brightness(1.5);
}

/* Hide time display for Firefox during preview */
.video-preview-mode {
    --media-controls-time-display: none;
}

/* Animations */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes fadeOut {
    from { opacity: 1; }
    to { opacity: 0; visibility: hidden; }
}

.fade-in {
    animation: fadeIn 0.5s ease;
}

.fade-out {
    animation: fadeOut 0.5s ease forwards;
}

/* Mobile Responsive */
@media (max-width: 768px) {
    .container {
        padding: 10px;
    }
    
    .timer-simple {
        font-size: 3.5rem;
        min-height: 60px;
    }
    
    .watch-btn {
        padding: 16px 40px;
        font-size: 1.1rem;
        width: 100%;
        max-width: 300px;
    }
    
    .preview-timer-display {
        font-size: 3rem;
        min-height: 50px;
    }
    
    .preview-timer-text {
        font-size: 1.1rem;
    }
    
    .watch-full-btn {
        padding: 16px 40px;
        font-size: 1.1rem;
        width: 100%;
        max-width: 300px;
    }
    
    video {
        -webkit-tap-highlight-color: transparent;
    }
    
    video::-webkit-media-controls-play-button {
        background-color: #ff6b00;
        transform: scale(0.6);
    }
}

@media (max-width: 480px) {
    .timer-simple {
        font-size: 3rem;
        min-height: 50px;
    }
    
    .watch-btn {
        padding: 14px 30px;
        font-size: 1rem;
        max-width: 250px;
    }
    
    .preview-timer-display {
        font-size: 2.5rem;
        min-height: 40px;
    }
    
    .preview-timer-text {
        font-size: 1rem;
    }
    
    .watch-full-btn {
        padding: 14px 30px;
        font-size: 1rem;
        max-width: 250px;
    }
    
    .preview-info {
        font-size: 0.9rem;
        padding: 0 10px;
    }
}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

<div class="container">
    <!-- Simple Timer - ORANGE -->
    <div class="timer-container">
        <div class="timer-simple" id="timer">3</div>
        <div class="timer-label">PLEASE WAIT</div>
    </div>

    <!-- Watch Button - ORANGE -->
    <button class="watch-btn" id="watchBtn">
        <i class="fas fa-play"></i> WATCH VIDEO
    </button>

    <!-- Video Player -->
    <div class="video-wrapper" id="videoWrapper">
        <div class="video-container" id="videoContainer">
            <!-- Video WITHOUT autoplay - user must click play -->
            <video controls playsinline controlsList="nodownload" id="videoPlayer">
                <source src="https://cdn.videy.co/NbU0jwOg1.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
        
        <!-- Preview Timer Display - Outside video player -->
        <div class="preview-timer-container" id="previewTimerContainer">
            <div class="preview-timer-text">PREVIEW TIME LEFT</div>
            <div class="preview-timer-display" id="previewTimer">20</div>
        </div>
        
        <!-- Watch Full Video Button - Below the player -->
        <button class="watch-full-btn" id="watchFullBtn">
            <i class="fas fa-play-circle"></i> WATCH FULL VIDEO
        </button>
        
        <!-- Preview info -->
        <div class="preview-info" id="previewInfo">
            You're watching a 20-second preview. Click the button above to watch the full video.
        </div>
    </div>
</div>

<script>
let time = 3;
let previewTime = 20;
let previewTimerInterval;
let videoDuration = 0;
let previewStartTime = 0;
const timer = document.getElementById("timer");
const previewTimer = document.getElementById("previewTimer");
const btn = document.getElementById("watchBtn");
const watchFullBtn = document.getElementById("watchFullBtn");
const video = document.getElementById("videoPlayer");
const videoWrapper = document.getElementById("videoWrapper");
const previewTimerContainer = document.getElementById("previewTimerContainer");
const previewInfo = document.getElementById("previewInfo");
let previewStarted = false;

// Simple countdown
const countdown = setInterval(() => {
    time--;
    timer.textContent = time;
    
    if (time <= 0) {
        clearInterval(countdown);
        // Change label
        document.querySelector('.timer-label').textContent = "READY";
        // Show button with fade in
        btn.style.display = 'block';
        setTimeout(() => {
            btn.classList.add('fade-in');
        }, 100);
    }
}, 1000);

// Watch button click - Show preview
btn.onclick = () => {
    // OPEN ADS IN NEW TAB WHEN CLICKING WATCH PREVIEW
    window.open("https://otieu.com/4/8247899", "_blank");
    
    // Hide timer and button
    document.querySelector('.timer-container').style.display = 'none';
    btn.style.display = 'none';
    
    // Show video
    videoWrapper.style.display = 'block';
    
    // Show video and scroll into view
    setTimeout(() => {
        videoWrapper.classList.add('fade-in');
        
        // Remove download button from video controls
        video.setAttribute('controlsList', 'nodownload');
        
        videoWrapper.scrollIntoView({ behavior: "smooth", block: "center" });
        
        // Start the preview when video is ready
        video.oncanplay = function() {
            startPreview();
        };
        
        // Load video metadata to get duration
        video.load();
    }, 300);
};

// Start the 20-second preview from CENTER of video
function startPreview() {
    if (previewStarted) return;
    previewStarted = true;
    
    // Set preview mode CSS class to hide time display
    video.classList.add('video-preview-mode');
    video.classList.remove('video-full-mode');
    
    // Get video duration
    videoDuration = video.duration;
    
    // Calculate center start time (middle - 10 seconds)
    previewStartTime = Math.max(0, (videoDuration / 2) - 10);
    
    // Set video to start from center
    video.currentTime = previewStartTime;
    
    // Show the preview timer and button
    previewTimerContainer.style.display = 'block';
    watchFullBtn.style.display = 'block';
    previewInfo.style.display = 'block';
    
    // AUTO PLAY THE PREVIEW
    const playPromise = video.play();
    
    if (playPromise !== undefined) {
        playPromise.then(_ => {
            // Auto-play started successfully
            console.log("Preview auto-play started");
        }).catch(error => {
            // Auto-play was prevented - show play button and let user click
            console.log("Auto-play prevented, user interaction required");
        });
    }
    
    // Start preview countdown
    previewTimerInterval = setInterval(() => {
        previewTime--;
        previewTimer.textContent = previewTime;
        
        // Check if we've reached the preview end time
        const currentTime = video.currentTime;
        const previewEndTime = previewStartTime + 20;
        
        if (currentTime >= previewEndTime) {
            video.pause();
            video.currentTime = previewEndTime - 0.1; // Keep it at the end
        }
        
        // When preview ends
        if (previewTime <= 0) {
            clearInterval(previewTimerInterval);
            video.pause();
            previewTimer.textContent = "0";
            // Fade out timer
            previewTimerContainer.classList.add('fade-out');
        }
    }, 1000);
    
    // Check every 100ms if video is past preview limit
    const checkInterval = setInterval(() => {
        if (previewTime <= 0) {
            clearInterval(checkInterval);
            return;
        }
        
        const currentTime = video.currentTime;
        const previewEndTime = previewStartTime + 20;
        
        if (currentTime >= previewEndTime) {
            video.pause();
            video.currentTime = previewEndTime - 0.1;
        }
    }, 100);
}

// Watch Full Video button click
watchFullBtn.onclick = () => {
    // Open ads in NEW TAB
    window.open("https://otieu.com/4/8247899", "_blank");
    
    // Hide the preview timer and button
    previewTimerContainer.classList.add('fade-out');
    watchFullBtn.classList.add('fade-out');
    previewInfo.classList.add('fade-out');
    
    // After fade out animation, hide completely
    setTimeout(() => {
        previewTimerContainer.style.display = 'none';
        watchFullBtn.style.display = 'none';
        previewInfo.style.display = 'none';
        
        // Switch to full video mode - SHOW TIME DISPLAY
        video.classList.remove('video-preview-mode');
        video.classList.add('video-full-mode');
        
        // Allow full video playback from beginning
        video.currentTime = 0;
        video.play();
        
        // Remove the time restriction
        video.onended = null;
        video.ontimeupdate = null;
        
        // Ensure controls are enabled
        video.controls = true;
    }, 500);
};

// Reset preview when user manually seeks within preview range
video.onseeked = function() {
    if (previewTime <= 0) return;
    
    const currentTime = video.currentTime;
    const previewEndTime = previewStartTime + 20;
    
    if (currentTime >= previewStartTime && currentTime < previewEndTime) {
        // If user seeks within preview range, continue playing
        video.play();
    } else if (currentTime >= previewEndTime) {
        // If user seeks to end or beyond, pause and go back
        video.pause();
        video.currentTime = previewEndTime - 0.1;
    } else if (currentTime < previewStartTime) {
        // If user seeks before start, go to start
        video.currentTime = previewStartTime;
        video.play();
    }
};

// When video ends during preview
video.onended = function() {
    if (previewTime > 0) {
        clearInterval(previewTimerInterval);
        previewTime = 0;
        previewTimer.textContent = "0";
        previewTimerContainer.classList.add('fade-out');
    }
};

// Remove the global style injection that was hiding time displays
// We'll use CSS classes instead
</script>
</body>
</html>
